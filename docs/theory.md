# Theory

## Matrices

### XYZ D65 -> RGB

```js

// given (1)
RGB = [
	[ 3.2406255, -1.5372080, -0.4986286 ],
	[ -0.9689307, 1.8757561, 0.0415175 ],
 	[ 0.0557101, -0.2040211, 1.0569959 ]
] * XYZD65;

// and (2)
XYZD50 = [
	[ 1.047844353856414, 0.022898981050086, -0.050206647741605 ],
	[ 0.029549007606644, 0.990508028941971, -0.017074711360960 ],
	[ -0.009250984365223, 0.015072338237051, 0.751717835079977 ]
] * XYZD65;

// by inverting (1) we get (3)
XYZD65 = [
	[ 0.4123999971730992, 0.35760000265100855, 0.18050001435233867 ],
	[ 0.21259999073612254, 0.7151999842346091, 0.07220001553015044 ],
	[ 0.01930001704591329, 0.11920004192621718, 0.9505000471041638 ]
] * RGB;

// by inverting (2) we get (4)
XYZD65 = [
 	[ 0.9555491471339036, -0.023053959026109214, 0.0632967285241842 ],
	[ -0.028293615880275732, 1.009916725621172, 0.021049798533869516 ],
	[ 0.012326727844429517, -0.020533074478247797, 1.3306432822046876 ] 
] * XYZD50;

// (1) and (4) give us (5):

RGB = [
	[ 3.1224408884380748, -1.5250352658196935, -0.4105168936769631 ],
	[ -1.069055646625355, 1.9335560282043682, 0.07828677447742276 ],
	[ 0.13397170512753045, -0.32894309050361825, 1.3994855526855983 ]
] * XYZD50;

// (2) and (3) give us (7):

XYZD50 = [
	[ 0.4410279309560077, 0.36636977076392735, 0.10887394180619162 ],
	[ 0.24323722848235377, 0.714367872897457, 0.031388273226139324 ],
	[ 0.014952595761578515, 0.13283680750702526, 0.7115035421852226 ]
] * RGB;
```